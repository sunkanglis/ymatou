require(["../../js/conf/config.js"],function(){require(["jquery","template","ajaxMapping","swiper","cookie"],function(a,b,c){a("#head").load("http://localhost:8080/pages/templates/head.html",function(){a(".nar-fr .first").on("mouseenter",function(){a(".quit111").show()}),a(".nar-fr .first").on("mouseleave",function(){a(".quit111").hide()}),a(".nar-fr .first").on("click",".quit111",function(){a.cookie("flag",""),window.location.replace("http://localhost:8080")})}),function(){var c;if(""!=a.cookie("flag")){c=!0;var d=JSON.parse(a.cookie("user")).username}else c=!1;a("#initheadtemplate").load("http://localhost:8080/pages/templates/inithead.html",function(){var e=b("inithead",{judge:c,name:d});a("#head .nar .nar-fr .first").html(e)})}(),a("#rightbar").load("http://localhost:8080/pages/templates/rightbar.html"),a.ajax({url:c.guesslist,dataType:"jsonp",success:function(c){var d=c.result.Products;a("#guesstemplate").load("http://localhost:8080/pages/templates/guess.html",function(){var c=b("guess",{list:d});a("#body .ft .guess-bd .list").html(c)})}}),a(".product-list-wrap").on("click","span.reduce",function(){0>=a(this).siblings("input").val()?a(this).css({cursor:"not-allowed"}):(a(this).css({cursor:"pointer"}),a(this).siblings("input").val(+a(this).siblings("input").val()-1),a(this).parent().parent().siblings(".sum").text(+a(this).parent().parent().siblings(".sum").text()-+a(this).parent().parent().siblings(".price").find("p").text()))}),a(".product-list-wrap").on("click","span.add",function(){a(this).siblings("input").val(+a(this).siblings("input").val()+1),a(this).parent().parent().siblings(".sum").text(+a(this).parent().parent().siblings(".sum").text()+ +a(this).parent().parent().siblings(".price").find("p").text())}),a(".product-list-wrap").on("click",".operate",function(){a(this).parent().parent().parent().parent().remove()}),a("i.hookCheckAllCheckbox").on("click",function(){if(a("i.bi-checkbox").toggleClass("i-selected"),/i-selected/.test(a("i.hookCheckAllCheckbox").get(0).className)){var b=0;a("input").each(function(){b+=+a(this).val()}),a("em.num").text(b);var c=0;a("div.sum").each(function(){c+=+a(this).text()}),a("em.total").text(c),a("button.account-btn").addClass("kejiesuan")}else a("em.num").text(0),a("em.total").text(0),a("button.account-btn").removeClass("kejiesuan")});var d=!1;a(".product-list-wrap").on("click","i.single",function(){d?/i-selected/.test(a(this).get(0).className)?(a("em.num").text(+a("em.num").eq(1).text()-+a(this).parent().siblings().find("input").val()),a("em.total").text(+a("em.total").text()-+a(this).parent().siblings().find(".sum").text()),0==a("em.total").text()&&a("button.account-btn").removeClass("kejiesuan")):(a("em.num").text(+a(this).parent().siblings().find("input").val()+ +a("em.num").eq(1).text()),a("em.total").text(+a(this).parent().siblings().find(".sum").text()+ +a("em.total").text())):(a("em.num").text(+a(this).parent().siblings().find("input").val()),a("em.total").text(+a(this).parent().siblings().find(".sum").text()),a("button.account-btn").addClass("kejiesuan")),a(this).toggleClass("i-selected"),a("i.single").each(function(){return /i-selected/.test(this.className)?(d=!0,!1):void(d=!1)});var b;a("i.single").each(function(){return /i-selected/.test(this.className)?void(b=!0):(b=!1,!1)}),b?a("i.hookCheckAllCheckbox").addClass("i-selected"):a("i.hookCheckAllCheckbox").removeClass("i-selected")});var e=JSON.parse(a.cookie("plist"));a("#plisttemplate").load("http://localhost:8080/pages/templates/plist.html",function(){var c=b("plist",{list:e});a(".product-list-wrap").html(c)}),a("#foot").load("http://localhost:8080/pages/templates/foot.html"),a(".ft .guess-bd ul").on("click","li",function(){var b={productid:a(this).find("img").attr("proid"),imgsrc:a(this).find("img").attr("src"),productname:a(this).find("p.title").text(),productprice:a(this).find("p.price").find("span").text()};a.cookie("details",JSON.stringify(b),{path:"/"}),window.location.replace("http://localhost:8080/pages/details/details.html")})})});